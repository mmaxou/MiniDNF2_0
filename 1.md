直接回答
	•	关键点： 部署 Parse Server 和其仪表板（Dashboard）在 Ubuntu 22.04 服务器上需要安装 Node.js、MongoDB 和相关工具，并配置服务。研究表明，步骤包括更新系统、安装依赖、配置 JSON 文件并启动服务，但生产环境可能需要额外的安全措施。
安装准备
首先，确保你的 Ubuntu 22.04 服务器已更新，并安装 Node.js（版本 18 或更高）和 MongoDB（版本 8.0 兼容）。这些是运行 Parse Server 的基础。
安装和配置 Parse Server
	•	安装 Node.js 使用 nvm，确保版本为 18： curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
	•	source /home/yourusername/.bashrc
	•	nvm install 18
	•	
	•	安装 MongoDB 8.0： curl -sSL https://www.mongodb.org/static/pgp/server-8.0.asc | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/mongodb-org-8.0.gpg
	•	echo "deb [arch=amd64,arm64] https://repo.mongodb.org/apt/ubuntu $(lsb_release -sc)/mongodb-org/8.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org.list
	•	sudo apt update
	•	sudo apt install -y mongodb-org
	•	sudo systemctl enable --now mongod
	•	
	•	安装 Yarn 和 Parse Server： sudo npm install -g yarn
	•	sudo yarn global add parse-server
	•	
	•	创建并编辑 Parse Server 配置文件： sudo mkdir -p /opt/parse-server
	•	sudo nano /opt/parse-server/config.json
	•	 添加以下内容，替换 your_app_id、your_master_key 和 your_server_ip： {
	•	  "appName": "YourAppName",
	•	  "databaseURI": "mongodb://localhost:27017/parsedb",
	•	  "appId": "your_app_id",
	•	  "masterKey": "your_master_key",
	•	  "serverURL": "http://localhost:1337/parse",
	•	  "publicServerURL": "http://your_server_ip:1337/parse",
	•	  "port": 1337
	•	}
	•	
	•	启动 Parse Server： sudo nohup parse-server /opt/parse-server/config.json &
	•	
安装和配置 Parse Dashboard
	•	安装 Parse Dashboard： sudo yarn global add parse-dashboard
	•	
	•	创建并编辑 Dashboard 配置文件： sudo mkdir -p /opt/parse-dashboard
	•	sudo nano /opt/parse-dashboard/parse-darshboard-config.json
	•	 添加以下内容，替换 your_app_id 和 your_master_key： {
	•	  "apps": [
	•	    {
	•	      "serverURL": "http://localhost:1337/parse",
	•	      "appId": "your_app_id",
	•	      "masterKey": "your_master_key",
	•	      "allowInsecureHTTP": "true",
	•	      "appName": "YourAppName"
	•	    }
	•	  ],
	•	  "users": [
	•	    {
	•	      "user": "admin",
	•	      "pass": "password"
	•	    }
	•	  ],
	•	  "iconsFolder": "icons"
	•	}
	•	
	•	启动 Parse Dashboard： sudo nohup parse-dashboard --dev --config /opt/parse-dashboard/parse-darshboard-config.json &
	•	
防火墙设置和访问
	•	允许必要的端口： sudo ufw allow 1337
	•	sudo ufw allow 4040
	•	
	•	通过浏览器访问 Dashboard，使用 http://your_server_ip:4040，登录使用配置文件中的用户名和密码。
意外细节
注意，生产环境中建议使用 systemd 管理服务以确保自动重启和日志管理，而非 nohup。这可能超出初学者的预期，但对长期运行很重要。

详细报告
本报告详细阐述了在 Ubuntu 22.04 服务器上部署 Parse Server 和其仪表板（Dashboard）的步骤，涵盖了从系统准备到服务配置的每个环节，旨在为用户提供全面的指导。以下内容基于最新的技术文档和社区实践，确保兼容性和可操作性。
背景与需求分析
Parse Server 是一个开源的后端即服务（BaaS）平台，最初由 Facebook 开发，现由社区维护，适合构建和管理移动和 Web 应用。其仪表板（Parse Dashboard）提供了一个图形界面，用于管理多个 Parse Server 应用。部署在 Ubuntu 22.04 上需要满足以下条件：
	•	操作系统： Ubuntu 22.04 LTS（Jammy Jellyfish）。
	•	依赖软件： Node.js（版本 18 或更高）、MongoDB（版本 8.0 兼容）、Yarn（用于包管理）。
	•	网络： 需开放端口 1337（Parse Server）和 4040（Dashboard），确保防火墙配置正确。
	•	用户权限： 需要非 root 用户具备 sudo 权限以执行安装和配置命令。
值得注意的是，部分早期文档提到 Python 2.x，但根据最新信息，Parse Server 不直接依赖 Python，这可能是历史遗留的误导信息。
详细部署步骤
1. 系统更新与升级
首先，确保系统是最新的，以避免因软件包版本不匹配导致的问题。执行以下命令：
sudo apt update
sudo apt upgrade -y
这将更新软件包列表并升级所有已安装的包。
2. 安装 Node.js
Node.js 是 Parse Server 的运行环境，推荐使用 nvm（Node Version Manager）以灵活管理版本。
	•	安装 nvm： curl -o- https://raw.githubusercontent.com/nvm-sh/nvm/master/install.sh | bash
	•	source /home/yourusername/.bashrc
	•	 注意，yourusername 需替换为实际用户名以确保 nvm 配置文件加载。
	•	安装 Node.js 18 版本： nvm install 18
	•	
	•	验证安装： node -v
	•	npm -v
	•	 确保输出为 Node.js 18.x 和 npm 最新版本。
3. 安装 MongoDB
Parse Server 使用 MongoDB 作为数据库，需安装版本 8.0 以确保兼容性。
	•	添加 MongoDB 官方仓库： curl -sSL https://www.mongodb.org/static/pgp/server-8.0.asc | sudo gpg --dearmor -o /etc/apt/trusted.gpg.d/mongodb-org-8.0.gpg
	•	echo "deb [arch=amd64,arm64] https://repo.mongodb.org/apt/ubuntu $(lsb_release -sc)/mongodb-org/8.0 multiverse" | sudo tee /etc/apt/sources.list.d/mongodb-org.list
	•	 这里 $(lsb_release -sc) 会自动检测 Ubuntu 22.04 的代号为 “jammy”。
	•	更新并安装 MongoDB： sudo apt update
	•	sudo apt install -y mongodb-org
	•	
	•	启动并启用 MongoDB 服务： sudo systemctl enable --now mongod
	•	 可通过 sudo systemctl status mongod 验证服务是否正常运行。
4. 安装 Yarn
Yarn 是 Parse Server 和 Dashboard 的推荐包管理器，安装命令为：
sudo npm install -g yarn
验证安装：
yarn -v
5. 安装和配置 Parse Server
	•	安装 Parse Server： sudo yarn global add parse-server
	•	 这将安装最新版本（截至 2025 年 3 月 9 日为 6.0.1），确保与 MongoDB 8.0 兼容。
	•	创建配置文件目录： sudo mkdir -p /opt/parse-server
	•	
	•	编辑配置文件： sudo nano /opt/parse-server/config.json
	•	 添加以下内容，注意替换 your_app_id、your_master_key 和 your_server_ip： {
	•	  "appName": "YourAppName",
	•	  "databaseURI": "mongodb://localhost:27017/parsedb",
	•	  "appId": "your_app_id",
	•	  "masterKey": "your_master_key",
	•	  "serverURL": "http://localhost:1337/parse",
	•	  "publicServerURL": "http://your_server_ip:1337/parse",
	•	  "port": 1337
	•	}
	•	
	◦	appId 和 masterKey 需设置为强密码，切勿公开。
	◦	publicServerURL 应设置为客户端访问的实际 URL，例如服务器的公网 IP 或域名。
	•	启动 Parse Server： sudo nohup parse-server /opt/parse-server/config.json &
	•	 使用 nohup 确保服务在后台运行，但注意生产环境建议使用 systemd。
6. 安装和配置 Parse Dashboard
	•	安装 Parse Dashboard： sudo yarn global add parse-dashboard
	•	
	•	创建配置文件目录： sudo mkdir -p /opt/parse-dashboard
	•	
	•	编辑配置文件： sudo nano /opt/parse-dashboard/parse-darshboard-config.json
	•	 添加以下内容，注意替换 your_app_id 和 your_master_key： {
	•	  "apps": [
	•	    {
	•	      "serverURL": "http://localhost:1337/parse",
	•	      "appId": "your_app_id",
	•	      "masterKey": "your_master_key",
	•	      "allowInsecureHTTP": "true",
	•	      "appName": "YourAppName"
	•	    }
	•	  ],
	•	  "users": [
	•	    {
	•	      "user": "admin",
	•	      "pass": "password"
	•	    }
	•	  ],
	•	  "iconsFolder": "icons"
	•	}
	•	
	◦	serverURL 指向 Parse Server 的地址，若在同一机器上，可用 localhost。
	◦	allowInsecureHTTP 设置为 “true” 以允许 HTTP 连接，生产环境建议使用 HTTPS。
	•	启动 Parse Dashboard： sudo nohup parse-dashboard --dev --config /opt/parse-dashboard/parse-darshboard-config.json &
	•	 --dev 标志使 Dashboard 运行在端口 4040，默认允许开发环境下的不安全连接。
7. 防火墙配置
确保防火墙开放 Parse Server（1337）和 Dashboard（4040）端口：
sudo ufw allow 1337
sudo ufw allow 4040
可通过 sudo ufw status 验证规则。
8. 访问和验证
	•	打开浏览器，访问 http://your_server_ip:4040，替换 your_server_ip 为服务器的实际 IP 地址。
	•	使用配置文件中定义的用户名（默认 “admin”）和密码登录 Dashboard。
	•	验证 Parse Server 可通过 curl http://localhost:1337/parse 测试，需返回 JSON 响应。
技术细节与注意事项
	•	版本兼容性： Parse Server 6.0.1 支持 MongoDB 6.0.19、7.0.16 和 8.0.4 及以上版本，不再支持 4 和 5 版本。MongoDB 8.0 是当前推荐版本，兼容性良好。
	•	安全建议：
	◦	生产环境中，建议使用 HTTPS，需配置 SSL 证书，可通过 NGINX 或 Let’s Encrypt 实现。
	◦	使用 systemd 管理服务以确保自动重启和日志记录，命令示例可参考 Scaleway Documentation。
	◦	限制防火墙访问，仅允许可信 IP 连接。
	•	意外细节： 配置文件的 publicServerURL 需与实际网络环境匹配，若使用域名，需提前配置 DNS 记录，这可能超出初学者预期，但对生产环境至关重要。
总结与扩展
以上步骤适合开发或测试环境，若用于生产，需进一步优化安全性和高可用性，例如负载均衡、数据备份和监控。社区文档和论坛（如 Parse Community Forum）提供更多高级配置建议。
以下表格总结了关键端口和配置文件路径：
组件
默认端口
配置文件路径
备注
Parse Server
1337
/opt/parse-server/config.json
需开放防火墙，设置 appId 等
Parse Dashboard
4040
/opt/parse-dashboard/config.json
需设置用户和密码，开发模式下

关键引文
	•	Install Parse Server & dashboard on Ubuntu 24.04 or 22.04 - LinuxShout
	•	Install MongoDB Community Edition on Ubuntu - MongoDB Manual v8.0
	•	GitHub - parse-community/parse-dashboard: A dashboard for managing Parse Server
	•	Releases · parse-community/parse-server
	•	parse-dashboard - npm
	•	Installing Parse Server on Ubuntu 20.04 | Scaleway Documentation
	•	How to Install MongoDB on Ubuntu 22.04 | Cherry Servers
	•	MongoDB Server | endoflife.date
	•	parse-server - npm
